# æŒ‰é’®è§†è§‰çŠ¶æ€è‡ªå®šä¹‰è¯´æ˜

## é—®é¢˜èƒŒæ™¯

åŸé—®é¢˜æè¿°ï¼š
> æŸ¥çœ‹å½“å‰buttonå®ç°ï¼ŒçŠ¶æ€æœºåŠ¨ä½œå®šä¹‰æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¦‚æœæƒ³è¦é€šè¿‡é‡å®šä¹‰æ¨¡æ¿æ¥è‡ªå®šä¹‰æŒ‰é’®å¤–è§‚ï¼Œé‚£ä¹ˆçŠ¶æ€æœºçš„ä¹¦å†™è¯¥æ€ä¹ˆå»å†™ï¼Ÿæ˜¯å¦å¯ä»¥åƒwpf/winuiä¸€æ ·ï¼Œç›´æ¥å°†å…¶å†™åœ¨å¸ƒå±€ä¸­ï¼Ÿ

## è§£å†³æ–¹æ¡ˆæ€»ç»“

**ç®€ç­”ï¼šæ˜¯çš„ï¼ç°åœ¨å¯ä»¥åƒWPF/WinUIä¸€æ ·åœ¨ControlTemplateä¸­å®šä¹‰è§†è§‰çŠ¶æ€äº†ã€‚**

### åŸæœ¬çš„å®ç°æ–¹å¼

åœ¨æ”¹è¿›å‰ï¼ŒButtonçš„è§†è§‰çŠ¶æ€æ˜¯ç¡¬ç¼–ç åœ¨C++ä»£ç ä¸­çš„ï¼š

```cpp
// Button.cpp ä¸­çš„ç§æœ‰æ–¹æ³•
std::shared_ptr<animation::VisualState> Button::CreateNormalState() {
    // ç¡¬ç¼–ç çš„çŠ¶æ€å®šä¹‰
    auto bgAnim = std::make_shared<animation::ColorAnimation>();
    bgAnim->SetTo(Color::FromRGB(240, 240, 240, 255));
    // ...
}
```

**é—®é¢˜ï¼š**
- çŠ¶æ€å®šä¹‰æ— æ³•é€šè¿‡æ¨¡æ¿è‡ªå®šä¹‰
- è¦æ”¹å˜æŒ‰é’®å¤–è§‚å¿…é¡»ä¿®æ”¹Buttonç±»æœ¬èº«
- ä¸æ”¯æŒå£°æ˜å¼å®šä¹‰

### ç°åœ¨çš„å®ç°æ–¹å¼

ç°åœ¨æ”¯æŒä¸‰ç§æ–¹å¼å®šä¹‰è§†è§‰çŠ¶æ€ï¼š

#### æ–¹å¼1ï¼šä½¿ç”¨é»˜è®¤çŠ¶æ€ï¼ˆæœ€ç®€å•ï¼‰

```cpp
auto button = new Button();
button->Content("æŒ‰é’®");
// è‡ªåŠ¨ä½¿ç”¨Buttonå†…ç½®çš„é»˜è®¤è§†è§‰çŠ¶æ€
```

#### æ–¹å¼2ï¼šä½¿ç”¨VisualStateBuilderåœ¨æ¨¡æ¿ä¸­å®šä¹‰ï¼ˆæ¨èï¼‰

```cpp
// åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿
auto tmpl = new ControlTemplate();
tmpl->SetTargetType(typeid(Button))
    ->SetFactory([]() -> UIElement* {
        // å®šä¹‰è§†è§‰æ ‘ç»“æ„
        auto border = new Border();
        border->Background(TemplateBinding(Control<Button>::BackgroundProperty()))
              ->BorderBrush(new SolidColorBrush(Color::FromRGB(100, 100, 200)))
              ->BorderThickness(2.0f)
              ->Child(new ContentPresenter<>());
        return border;
    });

// ä½¿ç”¨VisualStateBuilderå®šä¹‰è§†è§‰çŠ¶æ€ï¼ˆç±»ä¼¼WPFçš„XAMLï¼‰
auto borderBrush = new SolidColorBrush(Color::White);

tmpl->AddVisualStateGroup(
    VisualStateBuilder::CreateGroup("CommonStates")
        ->State("Normal")              // å®šä¹‰NormalçŠ¶æ€
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(255, 200, 200))    // æµ…çº¢è‰²
                ->Duration(250)                         // 250msè¿‡æ¸¡
            ->EndAnimation()
        ->EndState()
        
        ->State("MouseOver")          // å®šä¹‰MouseOverçŠ¶æ€
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(255, 150, 150))    // ä¸­çº¢è‰²
                ->Duration(200)
            ->EndAnimation()
        ->EndState()
        
        ->State("Pressed")            // å®šä¹‰PressedçŠ¶æ€
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(200, 100, 100))    // æ·±çº¢è‰²
                ->Duration(100)
            ->EndAnimation()
        ->EndState()
        
        ->State("Disabled")           // å®šä¹‰DisabledçŠ¶æ€
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(180, 180, 180))    // ç°è‰²
                ->Duration(250)
            ->EndAnimation()
        ->EndState()
        
        ->Build()  // å®Œæˆæ„å»º
);

// åº”ç”¨æ¨¡æ¿åˆ°Button
auto button = new Button();
button->SetTemplate(tmpl);
button->Content("è‡ªå®šä¹‰çº¢è‰²ä¸»é¢˜æŒ‰é’®");
```

#### æ–¹å¼3ï¼šæ‰‹åŠ¨åˆ›å»ºVisualStateå¯¹è±¡ï¼ˆæœ€çµæ´»ï¼‰

```cpp
// åˆ›å»ºæ¨¡æ¿
auto tmpl = new ControlTemplate();
// ... è®¾ç½®è§†è§‰æ ‘ ...

// æ‰‹åŠ¨åˆ›å»ºçŠ¶æ€ç»„
auto commonStates = std::make_shared<VisualStateGroup>("CommonStates");

// æ‰‹åŠ¨åˆ›å»ºNormalçŠ¶æ€
auto normalState = std::make_shared<VisualState>("Normal");
auto normalStoryboard = std::make_shared<Storyboard>();

auto normalAnim = std::make_shared<ColorAnimation>();
normalAnim->SetTo(Color::FromRGB(200, 255, 200));
normalAnim->SetDuration(Duration(std::chrono::milliseconds(250)));
normalAnim->SetTarget(targetBrush, &SolidColorBrush::ColorProperty());
normalStoryboard->AddChild(normalAnim);

normalState->SetStoryboard(normalStoryboard);
commonStates->AddState(normalState);

// åˆ›å»ºå…¶ä»–çŠ¶æ€...

// å°†çŠ¶æ€ç»„æ·»åŠ åˆ°æ¨¡æ¿
tmpl->AddVisualStateGroup(commonStates);
```

## ä¸WPF/WinUIçš„å¯¹æ¯”

### WPF/WinUIçš„XAMLå†™æ³•

```xml
<ControlTemplate TargetType="Button">
    <Border x:Name="border" Background="{TemplateBinding Background}">
        <ContentPresenter/>
        
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="CommonStates">
                
                <VisualState x:Name="Normal">
                    <Storyboard>
                        <ColorAnimation 
                            Storyboard.TargetName="border"
                            Storyboard.TargetProperty="Background.Color"
                            To="#FFC8C8"
                            Duration="0:0:0.25"/>
                    </Storyboard>
                </VisualState>
                
                <VisualState x:Name="MouseOver">
                    <Storyboard>
                        <ColorAnimation 
                            Storyboard.TargetName="border"
                            Storyboard.TargetProperty="Background.Color"
                            To="#FF9696"
                            Duration="0:0:0.2"/>
                    </Storyboard>
                </VisualState>
                
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Border>
</ControlTemplate>
```

### F__K_UIçš„C++å†™æ³•ï¼ˆä½¿ç”¨VisualStateBuilderï¼‰

```cpp
auto tmpl = new ControlTemplate();
tmpl->SetTargetType(typeid(Button))
    ->SetFactory([]() -> UIElement* {
        auto border = new Border();
        border->Background(TemplateBinding(Control<Button>::BackgroundProperty()))
              ->Child(new ContentPresenter<>());
        return border;
    });

auto borderBrush = new SolidColorBrush(Color::White);

tmpl->AddVisualStateGroup(
    VisualStateBuilder::CreateGroup("CommonStates")
        ->State("Normal")
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(255, 200, 200))
                ->Duration(250)
            ->EndAnimation()
        ->EndState()
        
        ->State("MouseOver")
            ->ColorAnimation(borderBrush, &SolidColorBrush::ColorProperty())
                ->To(Color::FromRGB(255, 150, 150))
                ->Duration(200)
            ->EndAnimation()
        ->EndState()
        
        ->Build()
);
```

## è¯­æ³•å¯¹åº”å…³ç³»è¡¨

| WPF/WinUI XAML | F__K_UI C++ | è¯´æ˜ |
|----------------|-------------|------|
| `<ControlTemplate>` | `new ControlTemplate()` | æ§ä»¶æ¨¡æ¿ |
| `<Border>...</Border>` | `SetFactory([]() { return new Border(); })` | è§†è§‰æ ‘å·¥å‚ |
| `<VisualStateManager.VisualStateGroups>` | `AddVisualStateGroup(...)` | æ·»åŠ çŠ¶æ€ç»„ |
| `<VisualStateGroup x:Name="...">` | `VisualStateBuilder::CreateGroup("...")` | åˆ›å»ºçŠ¶æ€ç»„ |
| `<VisualState x:Name="...">` | `->State("...")` | å®šä¹‰çŠ¶æ€ |
| `<Storyboard>` | è‡ªåŠ¨åˆ›å»º | æ•…äº‹æ¿ |
| `<ColorAnimation To="..." Duration="..."/>` | `->ColorAnimation(...)->To(...)->Duration(...)` | é¢œè‰²åŠ¨ç”» |

## æ ¸å¿ƒAPIè¯´æ˜

### VisualStateBuilder API

```cpp
// åˆ›å»ºçŠ¶æ€ç»„
VisualStateBuilder::CreateGroup("CommonStates")

// å®šä¹‰çŠ¶æ€
->State("Normal")           // å¼€å§‹å®šä¹‰NormalçŠ¶æ€
->EndState()                // ç»“æŸçŠ¶æ€å®šä¹‰

// æ·»åŠ é¢œè‰²åŠ¨ç”»
->ColorAnimation(target, property)  // æŒ‡å®šåŠ¨ç”»ç›®æ ‡
->From(Color)              // èµ·å§‹é¢œè‰²ï¼ˆå¯é€‰ï¼‰
->To(Color)                // ç›®æ ‡é¢œè‰²ï¼ˆå¿…éœ€ï¼‰
->Duration(milliseconds)    // æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
->EndAnimation()           // ç»“æŸåŠ¨ç”»å®šä¹‰

// æ·»åŠ åŒç²¾åº¦åŠ¨ç”»
->DoubleAnimation(target, property)  // ç”¨äºé€æ˜åº¦ç­‰
->From(value)              // èµ·å§‹å€¼
->To(value)                // ç›®æ ‡å€¼
->Duration(milliseconds)    // æŒç»­æ—¶é—´
->EndAnimation()

// å®Œæˆæ„å»º
->Build()                  // è¿”å›VisualStateGroup
```

### ControlTemplate API

```cpp
// è®¾ç½®ç›®æ ‡ç±»å‹
template->SetTargetType(typeid(Button))

// è®¾ç½®è§†è§‰æ ‘å·¥å‚
template->SetFactory([]() -> UIElement* {
    // è¿”å›è§†è§‰æ ‘æ ¹èŠ‚ç‚¹
    return new Border();
})

// æ·»åŠ è§†è§‰çŠ¶æ€ç»„
template->AddVisualStateGroup(stateGroup)

// æ£€æŸ¥æ˜¯å¦æœ‰è§†è§‰çŠ¶æ€
bool hasStates = template->HasVisualStates()

// è·å–æ‰€æœ‰çŠ¶æ€ç»„
auto groups = template->GetVisualStateGroups()
```

## å·¥ä½œåŸç†

### çŠ¶æ€è‡ªåŠ¨åˆ‡æ¢æœºåˆ¶

Buttonä¼šæ ¹æ®ç”¨æˆ·äº¤äº’å’Œå±æ€§å˜åŒ–è‡ªåŠ¨åˆ‡æ¢è§†è§‰çŠ¶æ€ï¼š

```
é¼ æ ‡è¿›å…¥ â†’ MouseOver
é¼ æ ‡æŒ‰ä¸‹ â†’ Pressed
é¼ æ ‡é‡Šæ”¾ â†’ MouseOverï¼ˆå¦‚æœé¼ æ ‡è¿˜åœ¨æŒ‰é’®ä¸Šï¼‰
é¼ æ ‡ç¦»å¼€ â†’ Normal
ç¦ç”¨æŒ‰é’® â†’ Disabled
```

### çŠ¶æ€ä¼˜å…ˆçº§

1. **Disabled** - å¦‚æœæŒ‰é’®è¢«ç¦ç”¨
2. **Pressed** - å¦‚æœé¼ æ ‡æŒ‰ä¸‹
3. **MouseOver** - å¦‚æœé¼ æ ‡æ‚¬åœ
4. **Normal** - é»˜è®¤çŠ¶æ€

### åŠ è½½æµç¨‹

1. Buttonæ„é€ æ—¶è®¾ç½®é»˜è®¤æ¨¡æ¿
2. åº”ç”¨æ¨¡æ¿æ—¶ï¼ˆ`OnTemplateApplied()`ï¼‰ï¼š
   - æ£€æŸ¥æ¨¡æ¿æ˜¯å¦å®šä¹‰äº†è§†è§‰çŠ¶æ€
   - å¦‚æœæœ‰ï¼šä½¿ç”¨æ¨¡æ¿ä¸­çš„çŠ¶æ€
   - å¦‚æœæ²¡æœ‰ï¼šä½¿ç”¨Buttonå†…ç½®çš„é»˜è®¤çŠ¶æ€
3. åˆ›å»ºVisualStateManagerå¹¶åŠ è½½çŠ¶æ€
4. æ ¹æ®å½“å‰çŠ¶æ€è¿›å…¥ç›¸åº”çš„è§†è§‰çŠ¶æ€

## å®é™…åº”ç”¨ç¤ºä¾‹

### åˆ›å»ºä¸»é¢˜åŒ–çš„æŒ‰é’®

```cpp
// å®šä¹‰æ·±è‰²ä¸»é¢˜æŒ‰é’®æ¨¡æ¿
ControlTemplate* CreateDarkThemeButton() {
    auto tmpl = new ControlTemplate();
    tmpl->SetTargetType(typeid(Button));
    
    // æ·±è‰²ä¸»é¢˜çš„è§†è§‰æ ‘
    tmpl->SetFactory([]() -> UIElement* {
        auto border = new Border();
        border->Background(TemplateBinding(Control<Button>::BackgroundProperty()))
              ->BorderBrush(new SolidColorBrush(Color::FromRGB(60, 60, 60)))
              ->BorderThickness(1.0f)
              ->CornerRadius(4.0f)
              ->Child(new ContentPresenter<>());
        return border;
    });
    
    auto brush = new SolidColorBrush(Color::Black);
    
    // æ·±è‰²ä¸»é¢˜çš„è§†è§‰çŠ¶æ€
    tmpl->AddVisualStateGroup(
        VisualStateBuilder::CreateGroup("CommonStates")
            ->State("Normal")
                ->ColorAnimation(brush, &SolidColorBrush::ColorProperty())
                    ->To(Color::FromRGB(45, 45, 45))
                    ->Duration(200)
                ->EndAnimation()
            ->EndState()
            ->State("MouseOver")
                ->ColorAnimation(brush, &SolidColorBrush::ColorProperty())
                    ->To(Color::FromRGB(60, 60, 60))
                    ->Duration(150)
                ->EndAnimation()
            ->EndState()
            ->State("Pressed")
                ->ColorAnimation(brush, &SolidColorBrush::ColorProperty())
                    ->To(Color::FromRGB(30, 30, 30))
                    ->Duration(100)
                ->EndAnimation()
            ->EndState()
            ->Build()
    );
    
    return tmpl;
}

// ä½¿ç”¨
auto button1 = new Button();
button1->SetTemplate(CreateDarkThemeButton());
button1->Content("æ·±è‰²æŒ‰é’®");

auto button2 = new Button();
button2->SetTemplate(CreateDarkThemeButton());
button2->Content("å¦ä¸€ä¸ªæ·±è‰²æŒ‰é’®");
```

### åˆ›å»ºä¸åŒç±»å‹çš„æŒ‰é’®

```cpp
// ä¸»è¦æŒ‰é’®ï¼ˆè“è‰²ï¼‰
auto primaryTemplate = CreateThemeButton(Color::Blue);

// å±é™©æŒ‰é’®ï¼ˆçº¢è‰²ï¼‰
auto dangerTemplate = CreateThemeButton(Color::Red);

// æˆåŠŸæŒ‰é’®ï¼ˆç»¿è‰²ï¼‰
auto successTemplate = CreateThemeButton(Color::Green);

// åº”ç”¨
auto saveBtn = new Button();
saveBtn->Content("ä¿å­˜");
saveBtn->SetTemplate(primaryTemplate);

auto deleteBtn = new Button();
deleteBtn->Content("åˆ é™¤");
deleteBtn->SetTemplate(dangerTemplate);

auto okBtn = new Button();
okBtn->Content("ç¡®å®š");
okBtn->SetTemplate(successTemplate);
```

## ä¼˜åŠ¿ä¸ç‰¹ç‚¹

### âœ… ä¼˜åŠ¿

1. **å£°æ˜å¼è¯­æ³•** - ç±»ä¼¼WPFçš„XAMLï¼Œæ˜“è¯»æ˜“å†™
2. **å®Œå…¨å¯å®šåˆ¶** - å¯ä»¥è‡ªç”±å®šä¹‰ä»»ä½•è§†è§‰çŠ¶æ€
3. **å‘åå…¼å®¹** - ç°æœ‰ä»£ç æ— éœ€ä¿®æ”¹
4. **é“¾å¼è°ƒç”¨** - ä»£ç ç®€æ´æµç•…
5. **ç±»å‹å®‰å…¨** - ç¼–è¯‘æ—¶æ£€æŸ¥é”™è¯¯
6. **å¤ç”¨æ€§å¼º** - æ¨¡æ¿å¯åœ¨å¤šä¸ªButtoné—´å…±äº«

### ğŸ¯ é€‚ç”¨åœºæ™¯

- åˆ›å»ºåº”ç”¨ç¨‹åºçš„ç»Ÿä¸€ä¸»é¢˜
- å®šä¹‰ç‰¹æ®Šç”¨é€”çš„æŒ‰é’®æ ·å¼
- å®ç°å“ç‰ŒåŒ–çš„UIç»„ä»¶
- éœ€è¦ä¸°å¯Œçš„è§†è§‰åé¦ˆ

### âš¡ æ€§èƒ½è€ƒè™‘

- çŠ¶æ€è½¬æ¢ä½¿ç”¨åŠ¨ç”»ï¼Œå¹³æ»‘è¿‡æ¸¡
- æ™ºèƒ½çŠ¶æ€åˆ‡æ¢ï¼Œé¿å…ä¸å¿…è¦çš„æ›´æ–°
- ä½¿ç”¨shared_ptrç®¡ç†ç”Ÿå‘½å‘¨æœŸ
- åŠ¨ç”»ç”±ç³»ç»Ÿç»Ÿä¸€è°ƒåº¦

## æœ€ä½³å®è·µ

### 1. ä¼˜å…ˆä½¿ç”¨VisualStateBuilder

âœ… **æ¨èï¼š**
```cpp
auto group = VisualStateBuilder::CreateGroup("CommonStates")
    ->State("Normal")->...->EndState()
    ->State("MouseOver")->...->EndState()
    ->Build();
```

âŒ **é¿å…ï¼ˆé™¤éå¿…è¦ï¼‰ï¼š**
```cpp
auto group = std::make_shared<VisualStateGroup>("CommonStates");
auto state = std::make_shared<VisualState>("Normal");
// ... å¤§é‡æ‰‹åŠ¨ä»£ç  ...
```

### 2. ä½¿ç”¨æ ‡å‡†çŠ¶æ€åç§°

âœ… **æ¨èï¼š** `"Normal"`, `"MouseOver"`, `"Pressed"`, `"Disabled"`

âŒ **é¿å…ï¼š** `"Default"`, `"Hover"`, `"Clicked"` ç­‰è‡ªå®šä¹‰åç§°

### 3. ä¿æŒåŠ¨ç”»æ—¶é•¿ä¸€è‡´

âœ… **æ¨èï¼š**
- Normal â†’ MouseOver: 150-200ms
- MouseOver â†’ Pressed: 100ms
- å…¶ä»–è½¬æ¢: 200-250ms

âŒ **é¿å…ï¼š** è¿‡é•¿ï¼ˆ>500msï¼‰æˆ–è¿‡çŸ­ï¼ˆ<50msï¼‰çš„åŠ¨ç”»

### 4. åˆ›å»ºå¯å¤ç”¨çš„æ¨¡æ¿å·¥å‚

```cpp
ControlTemplate* CreateThemedButton(const Color& primaryColor) {
    // ä½¿ç”¨primaryColorå‚æ•°åŒ–æ¨¡æ¿
    // è¿”å›å¯å¤ç”¨çš„æ¨¡æ¿
}
```

## æ–‡ä»¶å’Œèµ„æº

### æºä»£ç æ–‡ä»¶

- `include/fk/ui/ControlTemplate.h` - ControlTemplateæ‰©å±•
- `src/ui/ControlTemplate.cpp` - ControlTemplateå®ç°
- `include/fk/animation/VisualStateBuilder.h` - Builder API
- `src/animation/VisualStateBuilder.cpp` - Builderå®ç°
- `include/fk/ui/Button.h` - Buttonæ¥å£
- `src/ui/Button.cpp` - Buttonå®ç°ï¼ˆå«LoadVisualStatesFromTemplateï¼‰

### æ–‡æ¡£å’Œç¤ºä¾‹

- `CUSTOM_VISUAL_STATES_GUIDE.md` - è‹±æ–‡è¯¦ç»†æŒ‡å—
- `æŒ‰é’®è§†è§‰çŠ¶æ€è‡ªå®šä¹‰è¯´æ˜.md` - æœ¬æ–‡æ¡£ï¼ˆä¸­æ–‡æŒ‡å—ï¼‰
- `examples/button_custom_visual_states_demo.cpp` - å®Œæ•´æ¼”ç¤ºç¨‹åº
- `test_vsb_minimal.cpp` - VisualStateBuilderåŸºç¡€æµ‹è¯•

## å¸¸è§é—®é¢˜

### Q: æˆ‘å¿…é¡»å®šä¹‰æ‰€æœ‰å››ä¸ªçŠ¶æ€å—ï¼Ÿ

A: ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†å»ºè®®å®šä¹‰æ‰€æœ‰åŸºæœ¬çŠ¶æ€ï¼ˆNormal, MouseOver, Pressed, Disabledï¼‰ä»¥è·å¾—å®Œæ•´çš„ç”¨æˆ·ä½“éªŒã€‚

### Q: å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çŠ¶æ€å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½†Buttoné»˜è®¤åªä¼šåˆ‡æ¢åˆ°æ ‡å‡†çš„å››ä¸ªçŠ¶æ€ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰çŠ¶æ€ï¼Œéœ€è¦æ‰©å±•Buttonç±»å¹¶é‡å†™UpdateVisualStateæ–¹æ³•ã€‚

### Q: åŠ¨ç”»ç›®æ ‡å¿…é¡»æ˜¯Brushå—ï¼Ÿ

A: ä¸æ˜¯ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¾èµ–å±æ€§ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨DoubleAnimationåŠ¨ç”»åŒ–Opacityå±æ€§ã€‚

### Q: å¦‚ä½•åœ¨å¤šä¸ªæŒ‰é’®é—´å…±äº«æ¨¡æ¿ï¼Ÿ

A: åˆ›å»ºä¸€ä¸ªControlTemplateå®ä¾‹ï¼Œç„¶ååœ¨å¤šä¸ªButtonä¸Šè°ƒç”¨SetTemplate()æ–¹æ³•å³å¯ã€‚

### Q: åŸæœ‰çš„Buttonä»£ç éœ€è¦ä¿®æ”¹å—ï¼Ÿ

A: ä¸éœ€è¦ï¼å¦‚æœä¸æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿ï¼ŒButtonä¼šè‡ªåŠ¨ä½¿ç”¨å†…ç½®çš„é»˜è®¤è§†è§‰çŠ¶æ€ã€‚å®Œå…¨å‘åå…¼å®¹ã€‚

## æ€»ç»“

é€šè¿‡æœ¬æ¬¡æ”¹è¿›ï¼ŒF__K_UIæ¡†æ¶ç°åœ¨æ”¯æŒï¼š

âœ… **åœ¨ControlTemplateä¸­å®šä¹‰è§†è§‰çŠ¶æ€** - å°±åƒWPF/WinUIä¸€æ ·

âœ… **å£°æ˜å¼çš„VisualStateBuilder API** - ç®€æ´çš„é“¾å¼è°ƒç”¨

âœ… **å®Œå…¨çš„è‡ªå®šä¹‰èƒ½åŠ›** - å¯ä»¥åˆ›å»ºä»»ä½•æ ·å¼çš„æŒ‰é’®

âœ… **å‘åå…¼å®¹æ€§** - ç°æœ‰ä»£ç æ— éœ€ä¿®æ”¹

âœ… **ç±»å‹å®‰å…¨** - C++ç¼–è¯‘æ—¶æ£€æŸ¥

è¿™ä½¿å¾—F__K_UIåœ¨ä¿æŒC++æ€§èƒ½ä¼˜åŠ¿çš„åŒæ—¶ï¼Œæä¾›äº†ç°ä»£UIæ¡†æ¶çš„å¼€å‘ä½“éªŒï¼

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-11-18  
**ç›¸å…³Issue**: å®šä¹‰ButtonçŠ¶æ€æœº  
**å®ç°æäº¤**: 0632efb
